let g:mpi#default = 'ïŠœ'
let g:mpi#filetypes = {
    \ 'awk'     : 'î•',
    \ 'clojure' : 'îª',
    \ 'cpp'     : 'î˜',
    \ 'css'     : 'î˜”',
    \ 'diff'    : 'îœ¨',
    \ 'dosini'  : 'î˜•',
    \ 'dosbatch': 'î˜•',
    \ 'erlang'  : 'î±',
    \ 'forth'   : 'î§',
    \ 'go'      : 'î˜§',
    \ 'haskell' : 'î˜Ÿ', 'lhaskell': 'î˜Ÿ', 'chaskell': 'î˜Ÿ',
    \ 'hex'     : 'ï‘±',
    \ 'html'    : 'î˜',
    \ 'java'    : 'îœ¸',
    \ 'icon'    : 'î˜',
    \ 'json'    : 'î˜‹',
    \ 'less'    : 'î˜”',
    \ 'lisp'    : 'î˜¤',
    \ 'lua'     : 'î˜ ',
    \ 'markdown': 'ï’Š',
    \ 'mysql'   : 'îœ†', 'msql'   : 'îœ†',
    \ 'ocaml'   : 'Î»',
    \ 'php'     : 'î˜ˆ',
    \ 'python'  : 'î˜†',
    \ 'rmd'     : 'ï’Š',
    \ 'ruby'    : 'î‘',
    \ 'rust'    : 'î¨',
    \ 'sass'    : 'î˜ƒ',
    \ 'scss'    : 'î˜ƒ',
    \ 'scala'   : 'îœ·',
    \ 'twig'    : 'î˜œ',
    \ 'vim'     : 'î˜«',
    \ 'vue'     : 'ïµ‚',
    \ 'xhtml'   : 'î˜',
    \ 'xml'     : 'î…',
    \ 'yml'     : 'î˜•',
    \ 'zsh'     : 'î•',
    \ 'typescriptreact': 'îº',
    \ 'javascript': 'î˜Œ',
    \ 'javascriptreact': 'îº',
\}

let g:mpi#extensions = {
    \ 'bin'     : 'ï‘±',
    \ 'coffee'  : 'î˜›',
    \ 'conf'    : 'î˜•',
    \ 'd'       : 'î¯',
    \ 'dart'    : 'î˜',
    \ 'db'      : 'îœ†',
    \ 'dump'    : 'îœ†',
    \ 'dylib'   : 'ï °',
    \ 'f#'      : 'î§',
    \ 'fsi'     : 'î§',
    \ 'fsx'     : 'î§',
    \ 'go'      : 'î˜§',
    \ 'hbs'     : 'î˜',
    \ 'ini'     : 'î˜•',
    \ 'lock'    : 'ïœ ',
    \ 'log'     : 'î¡',
    \ 'mustache': 'î˜',
    \ 'pl'      : 'î©',
    \ 'plist'   : 'ï©±',
    \ 'pm'      : 'î©',
    \ 'pp'      : 'ï’™',
    \ 'ps1'     : 'î•',
    \ 'rmeta'   : 'î¨',
    \ 'rss'     : 'î˜™',
    \ 'scala'   : 'îœ·',
    \ 'slim'    : 'î˜',
    \ 'sln'     : 'îœŒ',
    \ 'so'      : 'ï °',
    \ 'styl'    : 'î˜€',
    \ 'suo'     : 'îœŒ',
    \ 'swift'   : 'î•',
    \ 't'       : 'î©',
    \ 'toml'    : 'î˜•',
    \ 'ts'      : 'î˜¨',
    \ 'tsx'     : 'îº',
    \ 'txt'     : 'ï…œ',
    \ 'gz'      : 'ï‡†', 'zip': 'ï‡†',
    \ 'ai'      : 'î´', 'psd': 'î¸', 'psb': 'î¸',
    \ 'jpg'     : 'î˜', 'jpeg': 'î˜', 'bmp': 'î˜', 'png': 'î˜', 'gif': 'î˜',
    \ 'fsscript'     : 'î§',
    \ 'timestamp'    : 'ï¨Ÿ',
    \ 'xcplayground' : 'î•',
    \ 'awk'     : 'î•',
    \ 'css'     : 'î˜”',
    \ 'ejs'     : 'î˜',
    \ 'sass'    : 'î˜ƒ',
    \ 'scss'    : 'î˜ƒ',
    \ 'less'    : 'î˜”',
    \ 'twig'    : 'î˜œ',
    \ 'vue'     : 'ïµ‚',
    \ 'vim'     : 'î˜«',
    \ 'lua'     : 'î˜ ',
    \ 'jsx'     : 'îº',
    \ 'js'      : 'î˜Œ', 'javascript': 'î˜Œ', 'es': 'î˜Œ', 'mjs': 'î˜Œ',
    \ 'bat'     : 'î˜•', 'sys': 'î˜•',
    \ 'cpp'     : 'î˜', 'c++': 'î˜', 'cxx': 'î˜', 'cc': 'î˜', 'cp': 'î˜', 'c': 'î˜',
    \ 'cljs'    : 'îª', 'edn': 'îª', 'clj': 'î¨', 'cljx': 'îª', 'cljc': 'î¨',
    \ 'diff'    : 'îœ¨', 'rej': 'îœ¨',
    \ 'erl'     : 'î±', 'hrl': 'î±', 'yaws': 'î±',
    \ 'ex'      : 'î˜­', 'exs': 'î˜­', 'eex': 'î˜­',
    \ 'fs'      : 'î§', 'ft': 'î§', 'fth': 'î§',
    \ 'h'       : 'ïƒ½', 'hpp': 'ïƒ½', 'hxx': 'ïƒ½',
    \ 'hex'     : 'ï‘±', 'h32': 'ï‘±',
    \ 'ico'     : 'î˜', 'icn': 'î˜',
    \ 'htm'     : 'î˜', 'html': 'î˜',
    \ 'xhtml'   : 'î˜', 'xht': 'î˜',
    \ 'hs'      : 'î˜Ÿ', 'hs-boot': 'î˜Ÿ', 'lhs': 'î˜Ÿ', 'chs': 'î˜Ÿ',
    \ 'java'    : 'îœ¸', 'jav': 'îœ¸',
    \ 'json'    : 'î˜‹', 'jsonp': 'î˜‹',
    \ 'lsp'     : 'î˜¤', 'jl': 'î˜¤', 'lisp': 'î˜¤', 'el': 'î˜¤', 'cl': 'î˜¤', 'L': 'î˜¤',
    \ 'md'      : 'ï’Š', 'markdown': 'ï’Š', 'mdown': 'ï’Š', 'mkd': 'ï’Š', 'mkdn': 'ï’Š', 'mdwn': 'ï’Š',
    \ 'ml'      : 'Î»', 'mli': 'Î»', 'mll': 'Î»', 'mly': 'Î»',
    \ 'php'     : 'î˜ˆ', 'phtml': 'î˜ˆ', 'ctp': 'î˜ˆ',
    \ 'py'      : 'î˜†', 'pyc': 'î˜†', 'pyo': 'î˜†', 'pyd': 'î˜†', 'pyw': 'î˜†', 'ptl': 'î˜†', 'pyi': 'î˜†',
    \ 'rs'      : 'î¨', 'rlib': 'î¨',
    \ 'sh'      : 'î•', 'bash': 'î•', 'csh': 'î•', 'fish': 'î•', 'ksh': 'î•', 'zsh': 'î•',
    \ 'sql'     : 'îœ†', 'mysql': 'îœ†', 'msql': 'îœ†',
    \ 'rb'      : 'î‘', 'rbw': 'î‘',
    \ 'rmd'     : 'ï’Š', 'Rmd': 'ï’Š', 'Smd': 'ï’Š', 'smd': 'ï’Š',
    \ 'xml'     : 'î…', 'xul': 'î…',  'wsdl': 'î…', 'wpl': 'î…', 'xmi': 'î…', 'csproj': 'î…', 'csproj.user': 'î…', 'ui': 'î…', 'xlf': 'î…', 'xliff': 'î…',
    \ 'yml'     : 'î˜•', 'yaml': 'î˜•',
\}

let g:mpi#exact_matches = {
    \ '.ds_store'       : 'î˜•',
    \ '.gitignore'      : 'î˜•',
    \ '.zshenv'         : 'î˜•',
    \ '.bashprofile'    : 'î˜•',
    \ '.profile'        : 'î˜•',
    \ 'favicon.ico'     : 'î˜£',
    \ '.zshrc'          : 'ğŸŒ',
    \ '.zsh_history'    : "\<Char-0x23f0>",
    \ '.fehbg'          : 'ğŸˆ',
    \ '.gitconfig'      : 'î˜•',
    \ '.vimrc'          : 'î˜«',
    \ '.bashrc'         : 'î˜•',
    \ 'LICENSE'         : 'î˜Š',
\}

function! mpi#get(bufname) abort
    let ext = fnamemodify(expand(a:bufname), ':e')
    if empty(ext)
        let l:has_key = has_key(g:mpi#exact_matches, a:bufname)
        if l:has_key
            return get(g:mpi#exact_matches, a:bufname, g:mpi#default)
        else
            let ft = getbufvar(a:bufname, '&ft')
            if empty(ft)
                return g:mpi#default
            else
                return get(g:mpi#filetypes, ft, g:mpi#default)
            endif
        endif
    else
        return get(g:mpi#extensions, ext, g:mpi#default)
    endif
endfunction
